<!-- 1. Игра в загадки.
a. Загадать загадку. Если ответ верен – поздравить пользователя. Затем сообщить, что игра окончена.
b. Если ответ неверный – написать пользователю, что он не угадал.
c. Добавить еще 3 загадки. Подсчитать количество правильных ответов, сообщить пользователю.
d. (По желанию). В качестве верного ответа принимать несколько вариантов ответов. Например, «Стул», «стул», «табуретка» и так далее.

3. Доработать игру в загадки:
a. Избавиться в игре в загадки от дублирования кода, используя массивы и функции.
b. Сделать так, чтобы программа поддерживала несколько правильных ответов на один и тот же вопрос. Все возможные варианты задаются программистом в коде программы.
-->

<meta charset="utf-8">
<script type="text/javascript">

	function ifMatches(arr, element) {//Ф-ыя вернет true, если в массиве arr есть элемент element
		for (var i = 1; i < arr.length; i++) {
			if (element.toLowerCase() == arr[i]){
				return true;
			}
		}
	}

	function levelFunc(rightAnswersCount, arr) {
		// rightAnswersCount - необходим для автоматического подсчета правильных ответов;
		// arr - Первый элемент массива - загадка. Все остальные - ответы.

		var userAnswer = prompt("Вопрос № " + questionCount + arr[0]);
		var answer = ifMatches(arr, userAnswer);
		questionCount++; // глобальная переменная создана в теле программы
		if (answer == true) { 
			alert("Поздравляем! Вы ответили правильно!");
			rightAnswersCount++;
		} else {
			alert("К сожалению Вы ответили не правильно!");
		}
		return rightAnswersCount;
	}

// Приветствие
	alert("Поиграем в загадки?");
	var rightAnswersCount = 0;  //Количество правильных ответов
	var questionCount = 1; //Автоматически подсчитает количество вопросов (начинаем с 1 чтобы использовать переменную в формировании сообщения пользователю и избежать лишней операции вычитания)

	questions = [
		["\nС пальмы вниз, на пальму снова \nЛовко прыгает… ", "обезьяна", "макака", "горилла", "шимпанзе", "мартышка", "примат"],
		["\nКукарекает спросонок \nМилый, добрый… ", "петух", "петушок", "петел", "кочет"],
		["\nБелым снегом всё одето —  \nЗначит, наступает… ", "зима", "холод", "зимушка"]
	];

	for (var i = 0; i < questions.length; i++) {
		var questAnsvArr = questions[i];
		rightAnswersCount = levelFunc(rightAnswersCount, questAnsvArr);
	}
	
	alert("Количество правильных ответов: " + rightAnswersCount + " из " + (questionCount - 1));
	alert("Игра окончена, спасибо!");

</script>
